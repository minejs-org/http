{"version":3,"sources":["../src/index.ts"],"names":["HttpClient","config","interceptor","index","mergedConfig","cacheKey","cached","url","request","fetchResponse","data","response","error","finalError","params","key","value","query","message","http","configureHttp","useQuery","queryKey","queryFn","options","signal","isLoading","isError","computed","isSuccess","enabled","fetchData","err","httpError","effect","useMutation","mutationFn","variables","retry","fn","retries","retryDelay","attempt","retryCondition","lastError","delay","resolve","createAbortController","timeout","controller","index_default"],"mappings":"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","file":"index.js","sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\r\n// src/index.ts\r\n//\r\n// Made with ❤️ by Maysara.\r\n\r\n\r\n\r\n// ╔════════════════════════════════════════ PACK ════════════════════════════════════════╗\r\n\r\n    import { signal, computed, effect } from '@minejs/signals';\r\n    import * as types from './types';\r\n\r\n// ╚══════════════════════════════════════════════════════════════════════════════════════╝\r\n\r\n\r\n\r\n// ╔════════════════════════════════════════ CORE ════════════════════════════════════════╗\r\n\r\n    export class HttpClient {\r\n        private config                  : Partial<types.RequestConfig>              = {};\r\n        private requestInterceptors     : types.Interceptor<types.RequestConfig>[]  = [];\r\n        private responseInterceptors    : types.Interceptor<types.Response<any>>[]  = [];\r\n        private cache                   = new Map<string, { data: types.Response<any>; timestamp: number }>();\r\n\r\n        constructor(config: Partial<types.RequestConfig> = {}) {\r\n            this.config = config;\r\n        }\r\n\r\n        /**\r\n         * Set default config\r\n         */\r\n        public setConfig(config: Partial<types.RequestConfig>): void {\r\n            this.config = { ...this.config, ...config };\r\n        }\r\n\r\n        /**\r\n         * Add request interceptor\r\n         */\r\n        public interceptRequest(interceptor: types.Interceptor<types.RequestConfig>): () => void {\r\n            this.requestInterceptors.push(interceptor);\r\n            return () => {\r\n                const index = this.requestInterceptors.indexOf(interceptor);\r\n                if (index > -1) this.requestInterceptors.splice(index, 1);\r\n            };\r\n        }\r\n\r\n        /**\r\n         * Add response interceptor\r\n         */\r\n        public interceptResponse(interceptor: types.Interceptor<types.Response<any>>): () => void {\r\n            this.responseInterceptors.push(interceptor);\r\n            return () => {\r\n                const index = this.responseInterceptors.indexOf(interceptor);\r\n                if (index > -1) this.responseInterceptors.splice(index, 1);\r\n            };\r\n        }\r\n\r\n        /**\r\n         * Make HTTP request\r\n         */\r\n        public async request<T = any>(config: types.RequestConfig): Promise<types.Response<T>> {\r\n            // Merge with default config\r\n            let mergedConfig = { ...this.config, ...config };\r\n\r\n            // Run request interceptors\r\n            for (const interceptor of this.requestInterceptors) {\r\n                if (interceptor.onFulfilled) {\r\n                    mergedConfig = await interceptor.onFulfilled(mergedConfig);\r\n                }\r\n            }\r\n\r\n            try {\r\n                // Check cache\r\n                const cacheKey = this.getCacheKey(mergedConfig);\r\n                const cached = this.cache.get(cacheKey);\r\n\r\n                if (cached && Date.now() - cached.timestamp < (mergedConfig.timeout || 0)) {\r\n                    return cached.data;\r\n                }\r\n\r\n                // Build URL\r\n                const url = this.buildURL(mergedConfig);\r\n\r\n                // Build request\r\n                const request = new Request(url, {\r\n                    method          : mergedConfig.method || 'GET',\r\n                    headers         : new Headers(mergedConfig.headers || {}),\r\n                    body            : mergedConfig.data ? JSON.stringify(mergedConfig.data) : undefined,\r\n                    signal          : mergedConfig.signal,\r\n                    credentials     : mergedConfig.withCredentials ? 'include' : 'same-origin'\r\n                });\r\n\r\n                // Make request\r\n                const fetchResponse = await fetch(request);\r\n\r\n                // Parse response\r\n                let data: T;\r\n                const responseType = mergedConfig.responseType || 'json';\r\n\r\n                switch (responseType) {\r\n                    case 'json':\r\n                        data = await fetchResponse.json();\r\n                        break;\r\n                    case 'text':\r\n                        data = await fetchResponse.text() as any;\r\n                        break;\r\n                    case 'blob':\r\n                        data = await fetchResponse.blob() as any;\r\n                        break;\r\n                    case 'arraybuffer':\r\n                        data = await fetchResponse.arrayBuffer() as any;\r\n                        break;\r\n                    default:\r\n                        data = await fetchResponse.json();\r\n                }\r\n\r\n                // Build response\r\n                let response: types.Response<T> = {\r\n                    data,\r\n                    status      : fetchResponse.status,\r\n                    statusText  : fetchResponse.statusText,\r\n                    headers     : fetchResponse.headers,\r\n                    config      : mergedConfig\r\n                };\r\n\r\n                // Check status\r\n                if (!fetchResponse.ok) {\r\n                    throw this.createError(\r\n                        `Request failed with status ${fetchResponse.status}`,\r\n                        mergedConfig,\r\n                        response\r\n                    );\r\n                }\r\n\r\n                // Run response interceptors\r\n                for (const interceptor of this.responseInterceptors) {\r\n                    if (interceptor.onFulfilled) {\r\n                        response = await interceptor.onFulfilled(response);\r\n                    }\r\n                }\r\n\r\n                // Cache response\r\n                this.cache.set(cacheKey, {\r\n                    data        : response,\r\n                    timestamp   : Date.now()\r\n                });\r\n\r\n                return response;\r\n\r\n            } catch (error: any) {\r\n                // Run error interceptors\r\n                let finalError = error;\r\n\r\n                for (const interceptor of this.responseInterceptors) {\r\n                    if (interceptor.onRejected) {\r\n                        finalError = await interceptor.onRejected(finalError);\r\n                    }\r\n                }\r\n\r\n                throw finalError;\r\n            }\r\n        }\r\n\r\n        private buildURL(config: types.RequestConfig): string {\r\n            let url = config.url;\r\n\r\n            // Add base URL\r\n            if (config.baseURL) {\r\n                url = config.baseURL + url;\r\n            }\r\n\r\n            // Add params\r\n            if (config.params) {\r\n                const params = new URLSearchParams();\r\n                Object.entries(config.params).forEach(([key, value]) => {\r\n                    if (value != null) {\r\n                        params.append(key, String(value));\r\n                    }\r\n                });\r\n\r\n                const query = params.toString();\r\n                if (query) {\r\n                    url += (url.includes('?') ? '&' : '?') + query;\r\n                }\r\n            }\r\n\r\n            return url;\r\n        }\r\n\r\n        private getCacheKey(config: types.RequestConfig): string {\r\n            return `${config.method || 'GET'}:${config.url}:${JSON.stringify(config.params || {})}`;\r\n        }\r\n\r\n        private createError(\r\n            message: string,\r\n            config: types.RequestConfig,\r\n            response?: types.Response<any>\r\n        ): types.HttpError {\r\n            const error     = new Error(message) as types.HttpError;\r\n            error.config    = config;\r\n            error.response  = response;\r\n            error.status    = response?.status;\r\n            return error;\r\n        }\r\n\r\n        // ============================================================================\r\n        // CONVENIENCE METHODS\r\n        // ============================================================================\r\n\r\n        public get<T = any>(url: string, config?: Partial<types.RequestConfig>): Promise<types.Response<T>> {\r\n            return this.request<T>({ ...config, url, method: 'GET' });\r\n        }\r\n\r\n        public post<T = any>(url: string, data?: any, config?: Partial<types.RequestConfig>): Promise<types.Response<T>> {\r\n            return this.request<T>({ ...config, url, data, method: 'POST' });\r\n        }\r\n\r\n        public put<T = any>(url: string, data?: any, config?: Partial<types.RequestConfig>): Promise<types.Response<T>> {\r\n            return this.request<T>({ ...config, url, data, method: 'PUT' });\r\n        }\r\n\r\n        public patch<T = any>(url: string, data?: any, config?: Partial<types.RequestConfig>): Promise<types.Response<T>> {\r\n            return this.request<T>({ ...config, url, data, method: 'PATCH' });\r\n        }\r\n\r\n        public delete<T = any>(url: string, config?: Partial<types.RequestConfig>): Promise<types.Response<T>> {\r\n            return this.request<T>({ ...config, url, method: 'DELETE' });\r\n        }\r\n    }\r\n\r\n// ╚══════════════════════════════════════════════════════════════════════════════════════╝\r\n\r\n\r\n\r\n// ╔════════════════════════════════════════ MAIN ════════════════════════════════════════╗\r\n\r\n    export const http = new HttpClient();\r\n\r\n    /**\r\n     * Configure global HTTP client\r\n     */\r\n    export function configureHttp(config: Partial<types.RequestConfig>): void {\r\n        http.setConfig(config);\r\n    }\r\n\r\n// ╚══════════════════════════════════════════════════════════════════════════════════════╝\r\n\r\n\r\n\r\n// ╔════════════════════════════════════════ HELP ════════════════════════════════════════╗\r\n\r\n    // QUERY HOOK (like React Query / SWR)\r\n    export function useQuery<T = any>(\r\n        queryKey: string | string[],\r\n        queryFn: () => Promise<types.Response<T>>,\r\n        options: Partial<types.QueryOptions<T>> = {}\r\n    ): types.QueryResult<T> {\r\n        const data = signal<T | null>(null);\r\n        const error = signal<types.HttpError | null>(null);\r\n        const isLoading = signal(false);\r\n        const isError = computed(() => error() !== null);\r\n        const isSuccess = computed(() => data() !== null && error() === null);\r\n\r\n        const enabled = typeof options.enabled === 'function'\r\n            ? options.enabled\r\n            : signal(options.enabled !== false);\r\n\r\n        const fetchData = async () => {\r\n            if (!enabled()) return;\r\n\r\n            isLoading.set(true);\r\n            error.set(null);\r\n\r\n            try {\r\n                const response = await queryFn();\r\n                data.set(response.data);\r\n                options.onSuccess?.(response.data);\r\n            } catch (err) {\r\n                const httpError = err as types.HttpError;\r\n                error.set(httpError);\r\n                options.onError?.(httpError);\r\n            } finally {\r\n                isLoading.set(false);\r\n            }\r\n        };\r\n\r\n        // Initial fetch\r\n        effect(() => {\r\n            if (enabled()) {\r\n                fetchData();\r\n            }\r\n        });\r\n\r\n        // Refetch on window focus\r\n        if (options.refetchOnWindowFocus) {\r\n            window.addEventListener('focus', fetchData);\r\n        }\r\n\r\n        // Refetch interval\r\n        if (options.refetchInterval) {\r\n            setInterval(fetchData, options.refetchInterval);\r\n        }\r\n\r\n        return {\r\n            data,\r\n            error,\r\n            isLoading,\r\n            isError,\r\n            isSuccess,\r\n            refetch: fetchData\r\n        };\r\n    }\r\n\r\n    // MUTATION HOOK\r\n    export function useMutation<T = any, V = any>(\r\n        mutationFn: (variables: V) => Promise<types.Response<T>>,\r\n        options: types.MutationOptions<T, V> = {}\r\n    ): types.MutationResult<T, V> {\r\n        const data = signal<T | null>(null);\r\n        const error = signal<types.HttpError | null>(null);\r\n        const isLoading = signal(false);\r\n\r\n        const mutate = async (variables: V): Promise<T> => {\r\n            isLoading.set(true);\r\n            error.set(null);\r\n\r\n            options.onMutate?.(variables);\r\n\r\n            try {\r\n                const response = await mutationFn(variables);\r\n                data.set(response.data);\r\n                options.onSuccess?.(response.data, variables);\r\n                return response.data;\r\n            } catch (err) {\r\n                const httpError = err as types.HttpError;\r\n                error.set(httpError);\r\n                options.onError?.(httpError, variables);\r\n                throw httpError;\r\n            } finally {\r\n                isLoading.set(false);\r\n            }\r\n        };\r\n\r\n        const reset = () => {\r\n            data.set(null);\r\n            error.set(null);\r\n            isLoading.set(false);\r\n        };\r\n\r\n        return {\r\n            data,\r\n            error,\r\n            isLoading,\r\n            mutate,\r\n            reset\r\n        };\r\n    }\r\n\r\n    // RETRY UTILITY\r\n    export async function retry<T>(\r\n        fn: () => Promise<T>,\r\n        config: types.RetryConfig = {}\r\n    ): Promise<T> {\r\n        const {\r\n            retries = 3,\r\n            retryDelay = (attempt) => Math.min(1000 * 2 ** attempt, 30000),\r\n            retryCondition = () => true\r\n        } = config;\r\n\r\n        let lastError: any;\r\n\r\n        for (let attempt = 0; attempt <= retries; attempt++) {\r\n            try {\r\n                return await fn();\r\n            } catch (error) {\r\n                lastError = error;\r\n\r\n                if (attempt < retries && retryCondition(error as types.HttpError)) {\r\n                    const delay = typeof retryDelay === 'function'\r\n                        ? retryDelay(attempt)\r\n                        : retryDelay;\r\n\r\n                    await new Promise(resolve => setTimeout(resolve, delay));\r\n                } else {\r\n                    throw error;\r\n                }\r\n            }\r\n        }\r\n\r\n        throw lastError;\r\n    }\r\n\r\n    // ABORT CONTROLLER UTILITY\r\n    export function createAbortController(timeout?: number): AbortController {\r\n        const controller = new AbortController();\r\n\r\n        if (timeout) {\r\n            setTimeout(() => controller.abort(), timeout);\r\n        }\r\n\r\n        return controller;\r\n    }\r\n\r\n// ╚══════════════════════════════════════════════════════════════════════════════════════╝\r\n\r\n\r\n\r\n// ╔════════════════════════════════════════ CORE ════════════════════════════════════════╗\r\n\r\n    export default {\r\n        HttpClient,\r\n        http,\r\n        configureHttp,\r\n        useQuery,\r\n        useMutation,\r\n        retry,\r\n        createAbortController\r\n    };\r\n\r\n// ╚══════════════════════════════════════════════════════════════════════════════════════╝"]}